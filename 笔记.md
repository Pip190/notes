# google

**查看可用ip**

```bash
nslookup google.cn
```

![image-20230720092936226](https://raw.githubusercontent.com/Pip190/cloudimg/master/img/image-20230720092936226.png)

203.208.41.2

203.208.40.2

**刷新DNS**

```bash
ipconfig /flushdns
```

# 解决后端跨域

```java
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.web.cors.CorsConfiguration;
import org.springframework.web.cors.UrlBasedCorsConfigurationSource;
import org.springframework.web.filter.CorsFilter;
@Configuration
public class CORSConfig {
    private CorsConfiguration buildConfig() {
        CorsConfiguration corsConfiguration = new CorsConfiguration();
        corsConfiguration.addAllowedOrigin("*");
        corsConfiguration.addAllowedHeader("*");
        corsConfiguration.addAllowedMethod("*");
        return corsConfiguration;
    }

    @Bean
    public CorsFilter corsFilter() {
        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();
        source.registerCorsConfiguration("/**", buildConfig());
        return new CorsFilter(source);
    }

}
```

controller层加注解

`@CrossOrigin`



# translation

![image-20230720095506316](https://raw.githubusercontent.com/Pip190/cloudimg/master/img/image-20230720095506316.png)



# CentOS7笔记

安装wget

```bash
sudo yum install wget
```

#### centos7安装Java

##### 1、下载安装包

```javascript
wget https://download.oracle.com/java/17/latest/jdk-17_linux-x64_bin.tar.gz
```

复制

java17和java8一样，都是LTS长期支持版本，因此这里直接下载java17

##### 2、解压安装包,修改包名为jdk-17

```javascript
tar zxf jdk-17_linux-x64_bin.tar.gz
rm -rf jdk-17_linux-x64_bin.tar.gz
mv jdk-17.0.3.1 jdk-17
```

复制

##### 3、移动文件夹到/usr/local下

```javascript
mv jdk-17 /usr/local/
```

复制

##### 4、将java添加到环境变量中

```javascript
vi /etc/profile
```

复制

```javascript
export JAVA_HOME=/usr/local/jdk-17
export PATH=/usr/local/php/bin:/usr/local/jdk-17/bin:$PATH
```

复制

##### 5、加载刚才修改的文件

```javascript
source /etc/profile
```

复制

##### 6、验证是否安装java成功

```javascript
java -version
```

复制

显示下面内容，说明安装成功

```javascript
[root@v2 jdk-17]# java -version
java version "17" 2021-09-14 LTS
Java(TM) SE Runtime Environment (build 17+35-LTS-2724)
Java HotSpot(TM) 64-Bit Server VM (build 17+35-LTS-2724, mixed mode, sharing)
```



# java jar包部署CentOS7

nohup 的意思是：不挂断运行的命令，当终端关闭时，程序依然运行。当使用该命令时，该程序的输出默认会被重定向到 nohup.out 的文件中。

```bash
nohup java -jar xxx.jar
```

查看运行的jar包进程

```bash
ps -ef | grep jar
```

查看相关的Java进程

```bash
ps -ef | grep java
```

杀死进程

```bash
kill -9 进程号
```







- 查看防火墙状态

  ```
  systemctl status firewalld
  ```

- 启动防火墙

  ```
  systemctl start firewalld
  ```

- 若防火墙还没安装，则先安装

  表示防火墙还没安装。执行以下命令进行安装：

  ```bash
  [root@VM-0-4-centos ~]# yum install firewalld
  Loaded plugins: fastestmirror, langpacks
  Loading mirror speeds from cached hostfile
  ...（等待安装）
  1234
  [root@VM-0-4-centos ~]# systemctl unmask firewalld
  Removed symlink /etc/systemd/system/firewalld.service.
  12
  [root@VM-0-4-centos ~]# systemctl enable firewalld
  Created symlink from /etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service to >/usr/lib/systemd/system/firewalld.service.
  Created symlink from /etc/systemd/system/multi-user.target.wants/firewalld.service to >/usr/lib/systemd/system/firewalld.service.
  123
  [root@VM-0-4-centos ~]# systemctl start firewalld
  ```

- 重新查看防火墙状态

- 查看开放的端口列表

  ```bash
  firewall-cmd --permanent --zone=public --list-ports
  ```

- 开放 8809 端口

  ```bash
  firewall-cmd --zone=public --add-port=8809/tcp --permanent;
  ```

- 更新防火墙规则

  ```bash
  firewall-cmd --reload
  ```

- 查看端口是否生效

  ```bash
  firewall-cmd --zone=public --query-port=8809/tcp;
  ```


# CentOS7配置静态ip

安装完成系统后，接下来就是配置静态IP地址，如下：

进入编辑模式[dmdba@localhost ~]$  

```bash
vim /etc/sysconfig/network-scripts/ifcfg-ens33
```

修改 BOOTPROTO=static

DNBOOT=yes

IPADDR=192.168.152.11

NETMASK=255.255.255.0

GATEWAY=192.168.152.2

DNS1=8.8.8.8



参数说明：

BOOTPROTO="static" # 使用静态IP地址，默认为dhcp

ONBOOT=yes #设置网卡启动方式为 开机启动 并且可以通过系统服务管理器 systemctl 控制网卡

IPADDR="192.168.152.11" # 设置的静态IP地址

NETMASK="255.255.255.0" # 子网掩码

GATEWAY="192.168.152.2" # 网关地址

DNS1="8.8.8.8" # DNS服务器（默认添加就行）





点击esc .输入“:wq” 保存退出

然后重启网络：

```bash
service network restart 
```



























# 方法一：使用yum安装jdk环环境

## 1.查看云端yum库中目前支持安装的jdk软件包

```shell
yum search java|grep jdk
```

![11115.png](https://www.timberkito.com/upload/2020/12/11115-a79e9ed15dcd4a71989486666996645c.png)

## 2.选择版本安装jdk

```shell
 yum install -y java-1.8.0-openjdk*
```

## 3.安装完成后，验证是否安装成功

```shell
java -version
```

![版本.png](https://www.timberkito.com/upload/2020/12/%E7%89%88%E6%9C%AC-8aa892e99e9647ecb19fd6af41b7de97.png)

## 4.查找jdk安装位置

```shell
find / -name 'java'
```

![image.png](https://www.timberkito.com/upload/2020/12/image-73e1befe123d413b9e543a0e3b657dd5.png)

> 默认安装路径一般为：
> /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.151-5.b12.el7_4.x86_64/jre/bin/java





# 方法二：从Oracle获取安装包，手动安装

## 1.从Oracle官网中获取jdk安装包

### 本案例使用jdk8演示

> 下载地址：https://www.oracle.com/cn/java/technologies/javase-downloads.html

![image.png](https://www.timberkito.com/upload/2020/12/image-b7720e2ed69a4b9b9e7abffe519d46a3.png)

### 根据系统版本和位数选择tar.gz

![image.png](https://www.timberkito.com/upload/2020/12/image-0ce0659c9ad74eab81e80d04b1000db2.png)

### 复制下载链接

![image.png](https://www.timberkito.com/upload/2020/12/image-971d274b30404abcb2618a5eff5e4fc3.png)

https://download.oracle.com/otn-pub/java/jdk/8.0.1+9/51f4f36ad4ef43e39d0dfdbaf6549e32/jdk-8.0.1_linux-x64_bin.tar.gz

### 创建文件夹，使用wget命令获取安装包

```shell
mkdir /usr/java
cd /usr/java
wget https://download.oracle.com/otn/java/jdk/8u271-b09/61ae65e0886
```

### 等待下载

![image.png](https://www.timberkito.com/upload/2020/12/image-435954996e4a48838819a60001475e6b.png)

## 2.解压安装jdk

### 使用tar命令解压安装包

```shell
tar zxvf jdk-8.0.1_linux-x64_bin.tar.gz
```

## 3.配置系统环境变量

### 用Vim打开profile

```shell
vim /etc/profile
```

### 在文档末尾此处添加系统环境变量

![image.png](https://www.timberkito.com/upload/2020/12/image-f353469bb51044c9b984d0df016afa79.png)

### 键盘上按i键进入编写

```shell
export JAVA_HOME=/usr/share/jdk1.6.0_14
export PATH=$JAVA_HOME/bin:$PATH
export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar
```

### 注意：JAVA_HOME的路径是你实际解压后的JDK的路径

### 按esc退出编辑模式，再按shift+Q输入x保存

### 输入命令使profile生效

```shell
source /etc/profile
```

## 4.安装完成后，验证是否安装成功

```shell
java -version
```

![版本.png](https://www.timberkito.com/upload/2020/12/%E7%89%88%E6%9C%AC-8aa892e99e9647ecb19fd6af41b7de97.png)
