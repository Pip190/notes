# google

**查看可用ip**

```bash
nslookup google.cn
```

![image-20230720092936226](https://raw.githubusercontent.com/Pip190/cloudimg/master/img/image-20230720092936226.png)

203.208.41.2

203.208.40.2

**刷新DNS**

```bash
ipconfig /flushdns
```

# 解决后端跨域

```java
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.web.cors.CorsConfiguration;
import org.springframework.web.cors.UrlBasedCorsConfigurationSource;
import org.springframework.web.filter.CorsFilter;
@Configuration
public class CORSConfig {
    private CorsConfiguration buildConfig() {
        CorsConfiguration corsConfiguration = new CorsConfiguration();
        corsConfiguration.addAllowedOrigin("*");
        corsConfiguration.addAllowedHeader("*");
        corsConfiguration.addAllowedMethod("*");
        return corsConfiguration;
    }

    @Bean
    public CorsFilter corsFilter() {
        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();
        source.registerCorsConfiguration("/**", buildConfig());
        return new CorsFilter(source);
    }

}
```

controller层加注解

`@CrossOrigin`



# translation

![image-20230720095506316](https://raw.githubusercontent.com/Pip190/cloudimg/master/img/image-20230720095506316.png)



# CentOS7笔记

安装wget

```bash
sudo yum install wget
```

#### centos7安装Java

##### 1、下载安装包

```javascript
wget https://download.oracle.com/java/17/latest/jdk-17_linux-x64_bin.tar.gz
```

复制

java17和java8一样，都是LTS长期支持版本，因此这里直接下载java17

##### 2、解压安装包,修改包名为jdk-17

```javascript
tar zxf jdk-17_linux-x64_bin.tar.gz
rm -rf jdk-17_linux-x64_bin.tar.gz
mv jdk-17.0.3.1 jdk-17
```

复制

##### 3、移动文件夹到/usr/local下

```javascript
mv jdk-17 /usr/local/
```

复制

##### 4、将java添加到环境变量中

```javascript
vi /etc/profile
```

复制

```javascript
export JAVA_HOME=/usr/local/jdk-17
export PATH=/usr/local/php/bin:/usr/local/jdk-17/bin:$PATH
```

复制

##### 5、加载刚才修改的文件

```javascript
source /etc/profile
```

复制

##### 6、验证是否安装java成功

```javascript
java -version
```

复制

显示下面内容，说明安装成功

```javascript
[root@v2 jdk-17]# java -version
java version "17" 2021-09-14 LTS
Java(TM) SE Runtime Environment (build 17+35-LTS-2724)
Java HotSpot(TM) 64-Bit Server VM (build 17+35-LTS-2724, mixed mode, sharing)
```



# java jar包部署CentOS7

nohup 的意思是：不挂断运行的命令，当终端关闭时，程序依然运行。当使用该命令时，该程序的输出默认会被重定向到 nohup.out 的文件中。

```bash
nohup java -jar xxx.jar
```

查看运行的jar包进程

```bash
ps -ef | grep jar
```

查看相关的Java进程

```bash
ps -ef | grep java
```

杀死进程

```bash
kill -9 进程号
```







- 查看防火墙状态

  ```
  systemctl status firewalld
  ```

- 启动防火墙

  ```
  systemctl start firewalld
  ```

- 若防火墙还没安装，则先安装

  表示防火墙还没安装。执行以下命令进行安装：

  ```bash
  [root@VM-0-4-centos ~]# yum install firewalld
  Loaded plugins: fastestmirror, langpacks
  Loading mirror speeds from cached hostfile
  ...（等待安装）
  1234
  [root@VM-0-4-centos ~]# systemctl unmask firewalld
  Removed symlink /etc/systemd/system/firewalld.service.
  12
  [root@VM-0-4-centos ~]# systemctl enable firewalld
  Created symlink from /etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service to >/usr/lib/systemd/system/firewalld.service.
  Created symlink from /etc/systemd/system/multi-user.target.wants/firewalld.service to >/usr/lib/systemd/system/firewalld.service.
  123
  [root@VM-0-4-centos ~]# systemctl start firewalld
  ```

- 重新查看防火墙状态

- 查看开放的端口列表

  ```bash
  firewall-cmd --permanent --zone=public --list-ports
  ```

- 开放 8809 端口

  ```bash
  firewall-cmd --zone=public --add-port=8809/tcp --permanent;
  ```

- 更新防火墙规则

  ```bash
  firewall-cmd --reload
  ```

- 查看端口是否生效

  ```bash
  firewall-cmd --zone=public --query-port=8809/tcp;
  ```

  
